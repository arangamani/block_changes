<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on http://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen"/>
  <link rel="stylesheet" href="stylesheets/pygment_trac.css"/>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/script.js"></script>

  <title>Block changes</title>
  <meta name="description" content="Ruby Module for Detecting Variable Changes in a Block">

  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body>

  <div class="wrapper">
    <header>
      <h1 class="title">Block changes</h1>
    </header>
    <div id="container">
      <p class="tagline">Ruby Module for Detecting Variable Changes in a Block</p>
      <div id="main" role="main">
        <div class="download-bar">
        <div class="inner">
          <a href="https://github.com/arangamani/block_changes/tarball/master" class="download-button tar"><span>Download</span></a>
          <a href="https://github.com/arangamani/block_changes/zipball/master" class="download-button zip"><span>Download</span></a>
          <a href="https://github.com/arangamani/block_changes" class="code">View Block changes on GitHub</a>
        </div>
        <span class="blc"></span><span class="trc"></span>
        </div>
        <article class="markdown-body">
          <h1>Block Changes</h1>

<h2>Detecting changes in a Ruby block</h2>

<p>The following example illustrates how to see if changes are detected in a Ruby block for the expected variables. Variables a, b, c are concerned in this example. If these variables are changed <code>changes_detected?</code> will return true. If these variables are not changes in the block <code>changes_detected?</code> will return false. This will be helpful to maintain idempotency. The following example is very simple. We'll know what variables we concern about when we write the code so passing those variables to the code will not be hard. Also we might not want to detect changes of local temporary variables defined inside the block.</p>

<div class="highlight"><pre><span class="nb">require</span> <span class="s1">'block_changes'</span>

<span class="kp">include</span> <span class="no">BlockChanges</span>

<span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">c</span> <span class="o">=</span> <span class="mi">3</span>

<span class="c1"># Note that the variable names are in quotes and it is required.</span>
<span class="n">detect_changes</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">)</span> <span class="k">do</span>
  <span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
  <span class="n">b</span> <span class="o">=</span> <span class="mi">3</span>
  <span class="n">c</span> <span class="o">=</span> <span class="mi">4</span>
<span class="k">end</span>

<span class="c1"># Check if changes are detected in the block</span>
<span class="nb">puts</span> <span class="s2">"Changes Detected"</span> <span class="k">if</span> <span class="n">changes_detected?</span>

<span class="c1"># Check the number variables changed in the block</span>
<span class="nb">puts</span> <span class="s2">"No of changes: </span><span class="si">#{</span><span class="n">get_changes</span><span class="si">}</span><span class="s2">"</span>
</pre></div>
        </article>
      </div>
    </div>
    <footer>
      <div class="owner">
      <p><a href="https://github.com/arangamani" class="avatar"><img src="https://secure.gravatar.com/avatar/6ff021800637b88cbe17d1330cbcc1a5?s=30&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png" width="48" height="48"/></a> <a href="https://github.com/arangamani">arangamani</a> maintains <a href="https://github.com/arangamani/block_changes">Block changes</a></p>


      </div>
      <div class="creds">
        <small>This page generated using <a href="https://pages.github.com/">GitHub Pages</a><br/>theme by <a href="http://twitter.com/jonrohan/">Jon Rohan</a></small>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/arangamani/block_changes/tarball/master" class="tar">tar</a><a href="https://github.com/arangamani/block_changes/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
    <p class="name"></p>
  </div>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37519629-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
