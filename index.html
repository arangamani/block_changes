<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Block changes : Ruby Module for Detecting Changes in a Block" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Block changes</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/arangamani/block_changes">View on GitHub</a>

          <h1 id="project_title">Block changes</h1>
          <h2 id="project_tagline">Ruby Module for Detecting Changes in a Block</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/arangamani/block_changes/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/arangamani/block_changes/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>Block Changes</h1>

<h2>Detecting changes in a Ruby block</h2>

<p>The following example illustrates how to see if changes are detected in a Ruby block for the expected variables. Variables a, b, c are concerned in this example. If these variables are changed <code>changes_detected?</code> will return true. If these variables are not changes in the block <code>changes_detected?</code> will return false. This will be helpful to maintain idempotency. The following example is very simple. We'll know what variables we concern about when we write the code so passing those variables to the code will not be hard. Also we might not want to detect changes of local temporary variables defined inside the block.</p>

<div class="highlight"><pre><span class="nb">require</span> <span class="s1">'block_changes'</span>

<span class="kp">include</span> <span class="no">BlockChanges</span>

<span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">c</span> <span class="o">=</span> <span class="mi">3</span>

<span class="c1"># Note that the variable names are in quotes and it is required.</span>
<span class="n">detect_changes</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">)</span> <span class="k">do</span>
  <span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
  <span class="n">b</span> <span class="o">=</span> <span class="mi">3</span>
  <span class="n">c</span> <span class="o">=</span> <span class="mi">4</span>
<span class="k">end</span>

<span class="c1"># Check if changes are detected in the block</span>
<span class="nb">puts</span> <span class="s2">"Changes Detected"</span> <span class="k">if</span> <span class="n">changes_detected?</span>

<span class="c1"># Check the number variables changed in the block</span>
<span class="nb">puts</span> <span class="s2">"No of changes: </span><span class="si">#{</span><span class="n">get_changes</span><span class="si">}</span><span class="s2">"</span>
</pre></div>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Block changes maintained by <a href="https://github.com/arangamani">arangamani</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
